<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hour 1 Exercises - Async JavaScript</title>
    <!-- Prism.js CSS for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #e74c3c;
            padding-bottom: 10px;
        }
        .exercise {
            background: #f8f9fa;
            border-left: 4px solid #e74c3c;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        .exercise h3 {
            color: #c0392b;
            margin-top: 0;
        }
        .question {
            background: #fff3cd;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            border-left: 4px solid #ffc107;
        }
        .coding-exercise {
            background: #e8f4f8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            border-left: 4px solid #17a2b8;
        }
        code:not([class*="language-"]) {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #e74c3c;
        }
        pre[class*="language-"] {
            margin: 10px 0;
            border-radius: 8px;
            font-size: 14px;
        }
        .instructions {
            background: #d4edda;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #28a745;
            margin-bottom: 20px;
        }
        .difficulty {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .easy { background: #d4edda; color: #155724; }
        .medium { background: #fff3cd; color: #856404; }
        .hard { background: #f8d7da; color: #721c24; }
        .work-instruction {
            background: #e2e3ff;
            padding: 12px;
            border-radius: 5px;
            border-left: 4px solid #6f42c1;
            margin: 10px 0;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üçï Hour 1 Exercises: Promises & Async Fundamentals</h1>
        
        <div class="instructions">
            <h3>üìã Instructions</h3>
            <p><strong>Time:</strong> 30 minutes | <strong>Format:</strong> Individual work, then group discussion</p>
            <ul>
                <li>Work on your own computer - open browser Developer Console (F12)</li>
                <li>Copy code examples and modify them to complete exercises</li>
                <li>Test your solutions and observe the output</li>
                <li>Experiment and ask questions!</li>
            </ul>
        </div>

        <div class="exercise">
            <div class="difficulty easy">EASY</div>
            <h3>Exercise 1: Understanding Execution Order</h3>
            <div class="question">
                <p><strong>Question:</strong> Predict the order of console.log outputs for this code:</p>
                <pre><code class="language-javascript">console.log("1: Start");

setTimeout(() => {
    console.log("2: Timeout");
}, 0);

Promise.resolve().then(() => {
    console.log("3: Promise");
});

console.log("4: End");</code></pre>
                <div class="work-instruction">
                    üíª <strong>On your computer:</strong> Predict the order, then copy this code into your console to verify!
                </div>
            </div>
        </div>

        <div class="exercise">
            <div class="difficulty easy">EASY</div>
            <h3>Exercise 2: Create Your First Promise</h3>
            <div class="coding-exercise">
                <p><strong>Task:</strong> Create a promise that simulates flipping a coin!</p>
                <p><strong>Requirements:</strong></p>
                <ul>
                    <li>50% chance to resolve with "Heads"</li>
                    <li>50% chance to reject with "Tails"</li>
                    <li>Add a 1-second delay using setTimeout</li>
                    <li>Use .then() and .catch() to handle the result</li>
                </ul>
                <p><strong>Starter Code:</strong></p>
                <pre><code class="language-javascript">function coinFlip() {
    return new Promise((resolve, reject) => {
        // Your code here:
        // 1. Use setTimeout for 1 second delay
        // 2. Use Math.random() > 0.5 for 50/50 chance
        // 3. resolve("Heads") or reject("Tails")
    });
}

// Test your function
coinFlip()
    .then(result => console.log("Success:", result))
    .catch(error => console.log("Failed:", error));</code></pre>
                <div class="work-instruction">
                    üíª <strong>On your computer:</strong> Complete the coinFlip function and test it multiple times!
                </div>
            </div>
        </div>

        <div class="exercise">
            <div class="difficulty medium">MEDIUM</div>
            <h3>Exercise 3: Pizza Order Chain</h3>
            <div class="coding-exercise">
                <p><strong>Task:</strong> Create a pizza ordering system using promise chaining!</p>
                <p><strong>Steps to implement:</strong></p>
                <ol>
                    <li><code>choosePizza()</code> - Takes 1 second, resolves with pizza type</li>
                    <li><code>addToppings(pizza)</code> - Takes 0.5 seconds, adds toppings</li>
                    <li><code>bakePizza(pizza)</code> - Takes 2 seconds, bakes the pizza</li>
                    <li><code>deliverPizza(pizza)</code> - Takes 1 second, delivers pizza</li>
                </ol>
                <p><strong>Starter Code:</strong></p>
                <pre><code class="language-javascript">function choosePizza() {
    return new Promise(resolve => {
        setTimeout(() => {
            const pizzas = ["Margherita", "Pepperoni", "Hawaiian"];
            const chosen = pizzas[Math.floor(Math.random() * pizzas.length)];
            console.log("Chose:", chosen);
            resolve(chosen);
        }, 1000);
    });
}

function addToppings(pizza) {
    // Create this function - takes 0.5 seconds
    // Log "Adding toppings to [pizza]"
    // Return pizza + " with extra cheese"
}

function bakePizza(pizza) {
    // Create this function - takes 2 seconds
    // Log "Baking [pizza]"
    // Return "Hot " + pizza
}

function deliverPizza(pizza) {
    // Create this function - takes 1 second
    // Log "Delivering [pizza]"
    // Return pizza + " - delivered!"
}

// Chain them together:
choosePizza()
    .then(pizza => addToppings(pizza))
    .then(pizza => bakePizza(pizza))
    .then(pizza => deliverPizza(pizza))
    .then(result => console.log("Final:", result))
    .catch(error => console.log("Order failed:", error));</code></pre>
                <div class="work-instruction">
                    üíª <strong>On your computer:</strong> Complete the missing functions and test the full pizza chain!
                </div>
            </div>
        </div>

        <div class="exercise">
            <div class="difficulty medium">MEDIUM</div>
            <h3>Exercise 4: Parallel vs Sequential Timing</h3>
            <div class="question">
                <p><strong>Task:</strong> Compare sequential vs parallel execution times!</p>
                <p><strong>Given these functions:</strong></p>
                <div class="code-block">
function taskA() {
    return new Promise(resolve => {
        setTimeout(() => resolve("Task A done"), 2000);
    });
}

function taskB() {
    return new Promise(resolve => {
        setTimeout(() => resolve("Task B done"), 1500);
    });
}

function taskC() {
    return new Promise(resolve => {
        setTimeout(() => resolve("Task C done"), 1000);
    });
}
                </div>
                <p><strong>Part A:</strong> Write code to run tasks sequentially (one after another)</p>
                <p><strong>Part B:</strong> Write code to run tasks in parallel using Promise.all()</p>
                <p><strong>Questions:</strong></p>
                <ul>
                    <li>How long does sequential execution take?</li>
                    <li>How long does parallel execution take?</li>
                    <li>When would you use each approach?</li>
                </ul>
                <div class="answer-space">
                    <!-- Students write their code and observations here -->
                </div>
            </div>
        </div>

        <div class="exercise">
            <div class="difficulty hard">HARD</div>
            <h3>Exercise 5: Restaurant Kitchen Simulator</h3>
            <div class="coding-exercise">
                <p><strong>Challenge:</strong> Build a restaurant kitchen that can handle multiple orders efficiently!</p>
                <p><strong>Requirements:</strong></p>
                <ul>
                    <li>Process 3 different orders simultaneously</li>
                    <li>Each order has multiple steps (prep ‚Üí cook ‚Üí plate)</li>
                    <li>Some steps can happen in parallel, others must be sequential</li>
                    <li>Handle random cooking failures (20% chance)</li>
                    <li>Log the total kitchen time and successful orders</li>
                </ul>
                <p><strong>Bonus Points:</strong></p>
                <ul>
                    <li>Add retry logic for failed orders</li>
                    <li>Implement a "rush mode" that prioritizes speed</li>
                    <li>Track which orders finish first</li>
                </ul>
                <div class="code-block">
// Starter functions
function prep(dish) {
    return new Promise((resolve, reject) => {
        console.log(`Prepping ${dish}...`);
        setTimeout(() => {
            if (Math.random() > 0.9) {
                reject(`Prep failed for ${dish}`);
            } else {
                resolve(`${dish} prepped`);
            }
        }, 500);
    });
}

// Create cook() and plate() functions
// Then build your kitchen simulator!
                </div>
            </div>
        </div>

        <div class="exercise">
            <div class="difficulty easy">EASY</div>
            <h3>Exercise 6: Debugging Promise Chains</h3>
            <div class="question">
                <p><strong>Task:</strong> Find and fix the bugs in this promise chain!</p>
                <div class="code-block">
function getUser(id) {
    return new Promise(resolve => {
        setTimeout(() => {
            resolve({ id: id, name: "John Doe" });
        }, 1000);
    });
}

function getUserPosts(user) {
    return new Promise(resolve => {
        setTimeout(() => {
            resolve([
                { title: "Post 1", author: user.name },
                { title: "Post 2", author: user.name }
            ]);
        }, 800);
    });
}

// Buggy code - fix it!
getUser(123)
    .then(user => {
        console.log("User:", user);
        getUserPosts(user); // Bug 1: Missing return
    })
    .then(posts => {
        console.log("Posts:", posts); // This will log undefined
        posts.forEach(post => console.log(post.title)); // This will crash
    })
    .catch(error => {
        console.log("Error:", error);
    });
                </div>
                <p><strong>Questions:</strong></p>
                <ul>
                    <li>What's wrong with this code?</li>
                    <li>How would you fix it?</li>
                    <li>What will happen when you run it?</li>
                </ul>
            </div>
        </div>

        <div class="exercise">
            <div class="difficulty medium">MEDIUM</div>
            <h3>Exercise 7: Promise Race Challenge</h3>
            <div class="coding-exercise">
                <p><strong>Task:</strong> Create a "fastest pizza delivery" competition!</p>
                <p><strong>Scenario:</strong> Three pizza shops are competing to deliver fastest</p>
                <div class="code-block">
function pizzaShopA() {
    return new Promise(resolve => {
        const time = Math.random() * 3000 + 1000; // 1-4 seconds
        setTimeout(() => {
            resolve({ shop: "Tony's Pizza", time: Math.round(time) });
        }, time);
    });
}

// Create pizzaShopB() and pizzaShopC() with different random times
// Use Promise.race() to see who delivers first!
// Also use Promise.all() to see all delivery times
                </div>
                <p><strong>Challenge Questions:</strong></p>
                <ul>
                    <li>Which method shows the winner first?</li>
                    <li>Which method shows all results?</li>
                    <li>How could this be useful in real applications?</li>
                </ul>
            </div>
        </div>

        <div class="exercise">
            <div class="difficulty hard">HARD</div>
            <h3>üèÜ Bonus Challenge: Build a Promise-Based Game</h3>
            <div class="coding-exercise">
                <p><strong>Ultimate Challenge:</strong> Create a text-based adventure game using promises!</p>
                <p><strong>Game Concept:</strong> "The Async Dragon" - A coding adventure</p>
                <p><strong>Requirements:</strong></p>
                <ul>
                    <li>At least 3 different scenes/choices</li>
                    <li>Each choice returns a promise</li>
                    <li>Random success/failure for actions</li>
                    <li>Chain promises for story progression</li>
                    <li>Handle different ending paths</li>
                </ul>
                <p><strong>Example Structure:</strong></p>
                <div class="code-block">
function startAdventure() {
    return new Promise(resolve => {
        console.log("üè∞ You face the Async Dragon!");
        console.log("Choose: 'fight', 'code', or 'run'");
        resolve("ready");
    });
}

function handleChoice(action) {
    return new Promise((resolve, reject) => {
        // Your game logic here
    });
}

// Build your adventure!
startAdventure()
    .then(() => handleChoice("fight"))
    .then(/* continue the story */);
                </div>
            </div>
        </div>

        <div class="instructions">
            <h3>üéØ Discussion Questions (After Exercises)</h3>
            <ul>
                <li>Which exercise was most challenging and why?</li>
                <li>When would you use Promise.all() vs Promise.race() in real projects?</li>
                <li>What are the advantages of promises over callback functions?</li>
                <li>How do promises help with handling errors in async operations?</li>
                <li>What patterns did you notice for chaining promises effectively?</li>
            </ul>
        </div>
    </div>

    <!-- Prism.js JavaScript for syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <script>
        // Interactive elements
        console.log("üçï Hour 1 Exercises Loaded!");
        console.log("üí° Tip: Use console.time('label') and console.timeEnd('label') to measure execution time!");
        console.log("üéÆ Ready to practice promises? Let's go!");
        
        // Helper function for students
        window.timeExecution = function(name, fn) {
            console.time(name);
            const result = fn();
            if (result && typeof result.then === 'function') {
                return result.then(res => {
                    console.timeEnd(name);
                    return res;
                }).catch(err => {
                    console.timeEnd(name);
                    throw err;
                });
            } else {
                console.timeEnd(name);
                return result;
            }
        };
        
        console.log("üîß Utility: timeExecution('name', () => yourPromiseFunction())");
    </script>
</body>
</html>